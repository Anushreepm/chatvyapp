{"ast":null,"code":"import _defineProperty from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Layout from\"./Layout\";import axios from\"axios\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";var BTN_LABEL=\"Request password reset link\";var Forgot=function Forgot(_ref){var history=_ref.history;var _useState=useState({email:\"\",buttonText:BTN_LABEL}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var email=values.email,buttonText=values.buttonText;var handleChange=function handleChange(name){return function(event){// console.log(event.target.value);\nsetValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,event.target.value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{buttonText:\"Submitting\"}));axios.post(\"/auth/forgot-password\",{email:email}).then(function(response){console.log(\"FORGOT PASSWORD SUCCESS\",response);toast.success(response.data.message);setValues(_objectSpread(_objectSpread({},values),{},{buttonText:BTN_LABEL}));}).catch(function(error){console.log(\"FORGOT PASSWORD ERROR\",error.response.data);toast.error(error.response.data.error);setValues(_objectSpread(_objectSpread({},values),{},{buttonText:BTN_LABEL}));});};var passwordForgotForm=function passwordForgotForm(){return/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{r:true,onChange:handleChange(\"email\"),value:email,type:\"email\",className:\"form-control\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:clickSubmit},buttonText)));};return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/home.png\",alt:\"homepage\"})),/*#__PURE__*/React.createElement(ToastContainer,null),/*#__PURE__*/React.createElement(\"h1\",{className:\"p-5 text-center\"},\"Forgot password\"),passwordForgotForm());};export default Forgot;","map":{"version":3,"sources":["E:/project/chat App/client/src/components/loginsignup/Forgot.js"],"names":["React","useState","Layout","axios","ToastContainer","toast","BTN_LABEL","Forgot","history","email","buttonText","values","setValues","handleChange","name","event","target","value","clickSubmit","preventDefault","post","then","response","console","log","success","data","message","catch","error","passwordForgotForm"],"mappings":"4cAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,CAEA,GAAMC,CAAAA,SAAS,CAAG,6BAAlB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACFP,QAAQ,CAAC,CACnCQ,KAAK,CAAE,EAD4B,CAEnCC,UAAU,CAAEJ,SAFuB,CAAD,CADN,wCACvBK,MADuB,eACfC,SADe,kBAMtBH,CAAAA,KANsB,CAMAE,MANA,CAMtBF,KANsB,CAMfC,UANe,CAMAC,MANA,CAMfD,UANe,CAQ9B,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,QAAU,UAACC,KAAD,CAAW,CACxC;AACAH,SAAS,gCAAMD,MAAN,wBAAeG,IAAf,CAAsBC,KAAK,CAACC,MAAN,CAAaC,KAAnC,GAAT,CACD,CAHoB,EAArB,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACH,KAAD,CAAW,CAC7BA,KAAK,CAACI,cAAN,GACAP,SAAS,gCAAMD,MAAN,MAAcD,UAAU,CAAE,YAA1B,GAAT,CACAP,KAAK,CACFiB,IADH,CACQ,uBADR,CACiC,CAAEX,KAAK,CAALA,KAAF,CADjC,EAEGY,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuCF,QAAvC,EACAjB,KAAK,CAACoB,OAAN,CAAcH,QAAQ,CAACI,IAAT,CAAcC,OAA5B,EACAf,SAAS,gCAAMD,MAAN,MAAcD,UAAU,CAAEJ,SAA1B,GAAT,CACD,CANH,EAOGsB,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBN,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCK,KAAK,CAACP,QAAN,CAAeI,IAApD,EACArB,KAAK,CAACwB,KAAN,CAAYA,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBG,KAAhC,EACAjB,SAAS,gCAAMD,MAAN,MAAcD,UAAU,CAAEJ,SAA1B,GAAT,CACD,CAXH,EAYD,CAfD,CAiBA,GAAMwB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,sBACzB,6CACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,SAAS,CAAC,YAAjB,UADF,cAEE,6BACA,CAAC,KADD,CAEE,QAAQ,CAAEjB,YAAY,CAAC,OAAD,CAFxB,CAGE,KAAK,CAAEJ,KAHT,CAIE,IAAI,CAAC,OAJP,CAKE,SAAS,CAAC,cALZ,EAFF,CADF,cAYE,4CACE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAES,WAA7C,EACGR,UADH,CADF,CAZF,CADyB,EAA3B,CAqBA,mBACE,2BAAK,SAAS,CAAC,YAAf,eACE,yBAAG,IAAI,CAAC,GAAR,eACE,2BAAK,GAAG,CAAC,WAAT,CAAqB,GAAG,CAAC,UAAzB,EADF,CADF,cAIE,oBAAC,cAAD,MAJF,cAKE,0BAAI,SAAS,CAAC,iBAAd,oBALF,CAMGoB,kBAAkB,EANrB,CADF,CAUD,CA7DD,CA+DA,cAAevB,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst BTN_LABEL = \"Request password reset link\";\r\n\r\nconst Forgot = ({ history }) => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    buttonText: BTN_LABEL,\r\n  });\r\n\r\n  const { email, buttonText } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    // console.log(event.target.value);\r\n    setValues({ ...values, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, buttonText: \"Submitting\" });\r\n    axios\r\n      .post(\"/auth/forgot-password\", { email })\r\n      .then((response) => {\r\n        console.log(\"FORGOT PASSWORD SUCCESS\", response);\r\n        toast.success(response.data.message);\r\n        setValues({ ...values, buttonText: BTN_LABEL });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"FORGOT PASSWORD ERROR\", error.response.data);\r\n        toast.error(error.response.data.error);\r\n        setValues({ ...values, buttonText: BTN_LABEL });\r\n      });\r\n  };\r\n\r\n  const passwordForgotForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n        r\r\n          onChange={handleChange(\"email\")}\r\n          value={email}\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n          {buttonText}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <a href=\"/\">\r\n        <img src=\"/home.png\" alt=\"homepage\" />\r\n      </a>\r\n      <ToastContainer />\r\n      <h1 className=\"p-5 text-center\">Forgot password</h1>\r\n      {passwordForgotForm()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Forgot;\r\n"]},"metadata":{},"sourceType":"module"}