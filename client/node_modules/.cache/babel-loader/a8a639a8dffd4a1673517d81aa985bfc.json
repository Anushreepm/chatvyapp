{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import axios from\"axios\";function Signup(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setuserName=_useState2[1];//   const [lastName, setlastName] = useState(\"\");\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setconfirmPassword=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),success=_useState10[0],setSuccess=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var handleSubmit=function handleSubmit(e){e.preventDefault();e.stopPropagation();var obj={username:username,email:email,password:password};checkSignup(obj);setuserName(\"\");setEmail(\"\");setPassword(\"\");setconfirmPassword(\"\");};var checkSignup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(obj){var config,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};_context.next=4;return axios.post(\"http://localhost:5000/auth/signup\",obj,config);case 4:res=_context.sent;console.log(res.data);setSuccess(res.data.success);setMessage(res.data.message);displayMessage();_context.next=18;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0.response.data);setSuccess(_context.t0.response.data.success);setMessage(_context.t0.response.data.message);displayMessage();return _context.abrupt(\"return\",_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function checkSignup(_x){return _ref.apply(this,arguments);};}();var displayMessage=function displayMessage(){if(success){toast.success(message,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}else if(success===false){if(message!==\"\"){toast.error(message,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}};useEffect(function(){if(success){toast.success(message,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}else if(success===false){if(message!==\"\"){toast.error(message,{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}},[success,message]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ToastContainer,{position:\"top-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-page\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/home.png\",alt:\"homepage\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-header\"},\"Enter details for Signup\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"signup-container\"},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputName1\"},\"User Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"User Name\",class:\"form-control\",id:\"exampleInputName1\",placeholder:\"Enter your Name\",value:username,onChange:function onChange(e){return setuserName(e.target.value);},required:true})),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputEmail1\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",class:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter your Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",class:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Enter your Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputPassword1\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",class:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Enter your Password\",value:confirmPassword,onChange:function onChange(e){return setconfirmPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"signin-button\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",class:\"btn btn-primary\"},\"Signin\")))));}export default Signup;","map":{"version":3,"sources":["E:/project/chat App/client/src/components/loginsignup/signup1.js"],"names":["React","useState","useEffect","ToastContainer","toast","axios","Signup","username","setuserName","email","setEmail","password","setPassword","confirmPassword","setconfirmPassword","success","setSuccess","message","setMessage","handleSubmit","e","preventDefault","stopPropagation","obj","checkSignup","config","headers","post","res","console","log","data","displayMessage","response","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport axios from \"axios\";\r\n\r\nfunction Signup() {\r\n  const [username, setuserName] = useState(\"\");\r\n  //   const [lastName, setlastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setconfirmPassword] = useState(\"\");\r\n  const [success, setSuccess] = useState();\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const obj = {\r\n      username: username,\r\n      email: email,\r\n      password: password,\r\n    };\r\n    checkSignup(obj);\r\n    setuserName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setconfirmPassword(\"\");\r\n  };\r\n\r\n  const checkSignup = async (obj) => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n\r\n      const res = await axios.post(\r\n        \"http://localhost:5000/auth/signup\",\r\n        obj,\r\n        config\r\n      );\r\n      console.log(res.data);\r\n\r\n      setSuccess(res.data.success);\r\n      setMessage(res.data.message);\r\n      displayMessage();\r\n    } catch (err) {\r\n      console.log(err.response.data);\r\n      setSuccess(err.response.data.success);\r\n      setMessage(err.response.data.message);\r\n      displayMessage();\r\n      return err;\r\n    }\r\n  };\r\n\r\n  const displayMessage = () => {\r\n    if (success) {\r\n      toast.success(message, {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (success === false) {\r\n      if (message !== \"\") {\r\n        toast.error(message, {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      toast.success(message, {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (success === false) {\r\n      if (message !== \"\") {\r\n        toast.error(message, {\r\n          position: \"top-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n      }\r\n    }\r\n  }, [success, message]);\r\n  return (\r\n    <>\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n\r\n      <div className=\"signup-page\">\r\n        <a href=\"/\">\r\n          <img src=\"/home.png\" alt=\"homepage\" />\r\n        </a>\r\n        <div className=\"login-header\">Enter details for Signup</div>\r\n        <form onSubmit={handleSubmit} className=\"signup-container\">\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleInputName1\">User Name</label>\r\n            <input\r\n              type=\"User Name\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputName1\"\r\n              placeholder=\"Enter your Name\"\r\n              value={username}\r\n              onChange={(e) => setuserName(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleInputEmail1\">Email address</label>\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              placeholder=\"Enter your Email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n            {/* <small id=\"emailHelp\" class=\"form-text text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </small> */}\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleInputPassword1\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              placeholder=\"Enter your Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"exampleInputPassword1\">Confirm Password</label>\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              placeholder=\"Enter your Password\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setconfirmPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"signin-button\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">\r\n              Signin\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}