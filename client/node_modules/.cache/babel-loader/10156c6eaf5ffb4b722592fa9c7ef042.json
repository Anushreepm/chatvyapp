{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\project\\\\chat App\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";function ActivateAccount(props){var history=props.history;var token=props.match.params.token;var _useState=useState(),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var displayMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{\"Content-Type\":\"application/json\"}};_context.next=4;return axios.post(\"/auth/activate/\".concat(token));case 4:response=_context.sent;setSuccess(response.data.success);setMessage(response.data.message);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setSuccess(_context.t0.response.data.success);setMessage(_context.t0.response.data.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function displayMessage(){return _ref.apply(this,arguments);};}();useEffect(function(){displayMessage();},[]);var SuccessDiv=function SuccessDiv(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,message),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return history.push(\"/signin\");}},\"login\"));};var FailDiv=function FailDiv(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,message),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return history.push(\"/signup\");}},\"signup\"));};console.log(success,message);return/*#__PURE__*/React.createElement(\"div\",{className:\"activate-account-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"activate-account \".concat(success)},success&&SuccessDiv(),!success&&FailDiv()));}export default ActivateAccount;","map":{"version":3,"sources":["E:/project/chat App/client/src/components/loginsignup/activateAccount1.js"],"names":["React","useState","useEffect","axios","ActivateAccount","props","history","token","match","params","success","setSuccess","message","setMessage","displayMessage","config","headers","post","response","data","SuccessDiv","push","FailDiv","console","log"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,IACtBC,CAAAA,OADsB,CACVD,KADU,CACtBC,OADsB,IAEtBC,CAAAA,KAFsB,CAEZF,KAAK,CAACG,KAAN,CAAYC,MAFA,CAEtBF,KAFsB,eAGAN,QAAQ,EAHR,wCAGvBS,OAHuB,eAGdC,UAHc,8BAIAV,QAAQ,CAAC,EAAD,CAJR,yCAIvBW,OAJuB,eAIdC,UAJc,eAM9B,GAAMC,CAAAA,cAAc,0FAAG,uKAEbC,MAFa,CAEJ,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CADI,CAFI,uBAOIb,CAAAA,KAAK,CAACc,IAAN,0BACHV,KADG,EAPJ,QAObW,QAPa,eAUnBP,UAAU,CAACO,QAAQ,CAACC,IAAT,CAAcT,OAAf,CAAV,CACAG,UAAU,CAACK,QAAQ,CAACC,IAAT,CAAcP,OAAf,CAAV,CAXmB,+EAanBD,UAAU,CAAC,YAAIO,QAAJ,CAAaC,IAAb,CAAkBT,OAAnB,CAAV,CACAG,UAAU,CAAC,YAAIK,QAAJ,CAAaC,IAAb,CAAkBP,OAAnB,CAAV,CAdmB,oEAAH,kBAAdE,CAAAA,cAAc,0CAApB,CAkBAZ,SAAS,CAAC,UAAM,CACdY,cAAc,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,mBACE,qDACE,+BAAMR,OAAN,CADF,cAEE,8BAAQ,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAACe,IAAR,CAAa,SAAb,CAAN,EAAjB,UAFF,CADF,CAMD,CAPD,CAQA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,mBACE,qDACE,+BAAMV,OAAN,CADF,cAGE,8BAAQ,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAACe,IAAR,CAAa,SAAb,CAAN,EAAjB,WAHF,CADF,CAOD,CARD,CASAE,OAAO,CAACC,GAAR,CAAYd,OAAZ,CAAqBE,OAArB,EACA,mBACE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,4BAAsBF,OAAtB,CAAd,EACGA,OAAO,EAAIU,UAAU,EADxB,CAEG,CAACV,OAAD,EAAYY,OAAO,EAFtB,CADF,CADF,CAQD,CAED,cAAelB,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction ActivateAccount(props) {\r\n  const { history } = props;\r\n  const { token } = props.match.params;\r\n  const [success, setSuccess] = useState();\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const displayMessage = async () => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      const response = await axios.post(\r\n        `/auth/activate/${token}`\r\n      )\r\n      setSuccess(response.data.success);\r\n      setMessage(response.data.message);\r\n    } catch (err) {\r\n      setSuccess(err.response.data.success);\r\n      setMessage(err.response.data.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    displayMessage();\r\n  }, []);\r\n\r\n  const SuccessDiv = () => {\r\n    return (\r\n      <>\r\n        <div>{message}</div>\r\n        <button onClick={() => history.push(\"/signin\")}>login</button>\r\n      </>\r\n    );\r\n  };\r\n  const FailDiv = () => {\r\n    return (\r\n      <>\r\n        <div>{message}</div>\r\n\r\n        <button onClick={() => history.push(\"/signup\")}>signup</button>\r\n      </>\r\n    );\r\n  };\r\n  console.log(success, message);\r\n  return (\r\n    <div className=\"activate-account-main\">\r\n      <div className={`activate-account ${success}`}>\r\n        {success && SuccessDiv()}\r\n        {!success && FailDiv()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ActivateAccount;\r\n"]},"metadata":{},"sourceType":"module"}